# Signature
**Required 4-byte header** at the beginning of each `.nvm` file.  
Format: `NVMx` where `x` is the standard version (0-255).  
Example: `NVM0` = `0x4E 0x56 0x4D 0x30`

## Data Types and Stack
- **Stack operates on 32-bit signed integers**
- All values are stored as 32-bit signed integers
- **Little-endian byte order** for multi-byte values

## Instructions

### Basic:
- `HALT(00)` : halt the process
- `NOP(01)` : empty operation  
- `PUSH32(02)` low mid1 mid2 high : push 4 bytes as 32-bit value (little-endian)
- `POP(04)` : remove the value from the top
- `DUP(05)` : duplicate the top of the stack
- `SWAP(06)` : swap the top 2 values
- **6 Instructions**

### Arithmetic:
- `ADD(10)` : add the top 2 values
- `SUB(11)` : deduct the top 2 values  
- `MUL(12)` : multiply the top 2 values
- `DIV(13)` : divide the top 2 values
- `MOD(14)` : remainder from division the top 2 values
- **5 Instructions**

### Comparisons:
- `CMP(20)` : compare (a-b), result on stack: -1/0/1
- `EQ(21)` : are they equal? (0/1)
- `NEQ(22)` : are they not equal?
- `GT(23)` : more?
- `LT(24)` : less?
- **5 Instructions**

### Flow control (32-bit addresses):
- `JMP32(30)` addr: unconditional jump (4-byte address)
- `JZ32(31)` addr: pop value, jump if zero (4-byte address)
- `JNZ32(32)` addr: pop value, jump if not zero (4-byte address)
- `CALL32(33)` addr: function call (4-byte address)
- `RET(34)` : return
- **5 Instructions**

### Memory:
- `LOAD(40)` xx: load from local variable
- `STORE(41)` xx: save to a local variable
- `LOAD_ABS(44)`: load at address (address on stack)
- `STORE_ABS(45)`: save at address
- **4 Instructions**

### System calls:
- `SYSCALL(50)` xx: invoke system call number xx  
  Arguments are passed via stack (right-to-left)  
  Return value is pushed to stack
- `BREAK(51)`: debugging stop
- **2 Instructions**

**Total: 27 Instructions**

## Capability System
- Processes require capabilities for privileged operations
- `CAP_DRV_ACCESS` required for absolute memory access
- Capabilities checked at runtime

## Memory Access
- Absolute memory operations restricted to permitted regions
- Stack bounds checking enforced
- Memory protection for system integrity